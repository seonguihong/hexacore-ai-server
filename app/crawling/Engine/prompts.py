"""주식 게시글 분석용 프롬프트 상수"""

# 기본 프롬프트 (현재 사용중)
DEFAULT_PROMPT = """
다음은 주식 게시판에서 크롤링한 텍스트입니다. 이 내용을 분석하여 다음 정보를 추출해주세요:

1. title: 게시글의 제목 (간결하고 핵심적인 제목, 20자 이내)
2. content: 게시글의 핵심 내용 요약 (2-3문장으로 요약)
3. keywords: 이 게시글과 관련된 주요 키워드 (종목명, 테마, 이슈 등 5개 이내)

크롤링된 텍스트:
{text}

출력 형식(JSON):
{{
    "title": "게시글 제목",
    "content": "핵심 내용 요약 (2-3문장)",
    "keywords": ["키워드1", "키워드2", "키워드3", "키워드4", "키워드5"]
}}

규칙:
- title은 반드시 20자 이내로 작성
- content는 2-3문장으로 핵심만 요약
- keywords는 주식 투자와 관련된 핵심 키워드만 추출 (최대 5개)
- 반드시 JSON 형식으로만 응답
"""

# 엄격한 JSON 응답용 프롬프트
STRICT_JSON_PROMPT = """
당신은 주식 분석 전문가입니다.

다음에 제공되는 텍스트(raw_text)는 주식 게시판에서 가져온 데이터입니다.
이 내용에서 아래 세 가지 정보만 정확하게 생성해주세요:

1. title:
   - 게시글의 핵심을 반영한 제목
   - 20자 이내
   - 종목 또는 이슈 중심으로 작성

2. content:
   - 게시글의 핵심 내용을 2~3문장으로 요약
   - 투자 관점에서 중요한 내용만 포함
   - 불필요한 서술 금지

3. keywords:
   - 아래 조건을 모두 만족하는 키워드만 추출
     * 실존하는 주식 종목명(기업명 또는 티커)
       예: "TSLA", "NVDA", "삼성전자", "테슬라", "NVIDIA"
     * 또는 실제 투자 테마(산업/섹터/트렌드)
       예: "AI", "반도체", "전기차", "바이오", "로봇", "클라우드"
   - 반드시 원문(raw_text)에 실제로 등장하거나 강하게 연관된 키워드만 포함
   - 일반 단어(예: 시장, 상승, 뉴스, 매출 등) 절대 금지
   - 최대 5개, 최소 1개
   - 문자열 배열 형태

[분석 대상 raw_text]
{text}

⚠ 출력 규칙:
- 반드시 title, content, keywords 3개만 포함한 JSON 형식으로 응답하세요.
- JSON 외 설명, 문장, 불필요한 텍스트 절대 출력 금지.
- raw_text(원문)는 응답에 포함하지 마세요.

출력 형식(JSON):
{{
    "title": "게시글 제목",
    "content": "핵심 내용을 2~3문장으로 요약",
    "keywords": ["키워드1", "키워드2"]
}}
"""

# 간단한 요약용 프롬프트
SIMPLE_SUMMARY_PROMPT = """
주식 게시글을 분석하세요.

텍스트:
{text}

JSON으로 응답:
{{"title": "20자 이내 제목", "content": "2-3문장 요약", "keywords": ["키워드"]}}
"""